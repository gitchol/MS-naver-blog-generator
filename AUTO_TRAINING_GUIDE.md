# 🤖 자동 학습 시스템 사용 가이드

## 📋 개요
이 시스템은 **서버 시작 시 자동으로 CSV 파일을 읽어서 AI를 학습**시키는 기능을 제공합니다.  
웹 인터페이스 없이 **백엔드 데이터 창고에 직접 대량의 블로그 데이터를 업로드**할 수 있습니다.

## ✨ 새로운 기능: 자동 텍스트 정리
**복사-붙여넣기 시 발생하는 스페이싱과 띄어쓰기 문제를 자동으로 해결합니다!**

### 자동 정리되는 요소들:
- **과도한 공백**: `"    여러분     안녕하세요    "` → `"여러분 안녕하세요"`
- **연속된 줄바꿈**: `\n\n\n\n` → `\n\n` (최대 2개로 제한)
- **HTML 태그**: `<br>`, `<p>`, `<div>` 등 모든 HTML 태그 제거
- **HTML 엔티티**: `&nbsp;`, `&amp;` 등을 일반 문자로 변환
- **탭 문자**: `\t`를 공백으로 변환
- **문장 부호 뒤 공백**: `안녕하세요.    오늘은` → `안녕하세요. 오늘은`
- **괄호/따옴표 공백**: `( 내용 )` → `(내용)`, `" 텍스트 "` → `"텍스트"`

### 복사-붙여넣기 걱정 없이 사용하세요!
이제 네이버 블로그나 웹사이트에서 복사한 텍스트를 **그대로 붙여넣어도** 자동으로 깨끗하게 정리됩니다.

## 🚀 사용 방법

### 1. CSV 파일 위치
```
blog-generator/src/data/bulk-training-data.csv
```

### 2. CSV 파일 형식
```csv
제목,본문,카테고리,콘텐츠타입
"포트폴리오 제작 가이드","여러분    안녕하세요!     오늘은 포트폴리오 제작에 대해...","상위 키워드","general"
"건축 유학 준비","건축    유학을    준비하시는 분들을 위해...","건축","professional"
"하버드 GSD 후기","하버드 GSD     합격 후기를 공유합니다...","아이비리그","qna"
```
**↓ 자동으로 정리됨 ↓**
```csv
제목,본문,카테고리,콘텐츠타입
"포트폴리오 제작 가이드","여러분 안녕하세요! 오늘은 포트폴리오 제작에 대해...","상위 키워드","general"
"건축 유학 준비","건축 유학을 준비하시는 분들을 위해...","건축","professional"
"하버드 GSD 후기","하버드 GSD 합격 후기를 공유합니다...","아이비리그","qna"
```

### 3. 컬럼 설명
- **제목**: 블로그 포스트 제목 (자동 정리됨)
- **본문**: 블로그 포스트 전체 내용 (자동 정리됨)
- **카테고리** (선택): 상위 키워드, 건축, 아이비리그, 아트스쿨, 디자인, 유학 및 컨설팅, 파인아트, 패션
- **콘텐츠타입** (선택): general, professional, qna

### 4. 자동 학습 프로세스
1. **서버 시작 시**: `npm run dev` 실행하면 자동으로 CSV 파일 읽기
2. **텍스트 정리**: 모든 제목과 본문에 자동 텍스트 정리 적용
3. **중복 체크**: 기존 학습된 제목과 비교하여 새로운 데이터만 학습
4. **텍스트 분석**: 어조, 문단 구조, 문장 길이, 감정 표현 자동 분석
5. **패턴 추출**: 자주 사용하는 표현과 문구 패턴 학습
6. **데이터 저장**: `src/data/training-data.json`에 통합 저장

## 🔧 고급 사용법

### 웹에서 복사한 텍스트도 그대로 사용 가능
```csv
제목,본문,카테고리,콘텐츠타입
"복사한 제목","<p>여러분&nbsp;&nbsp;&nbsp;안녕하세요!</p><br><br><div>오늘은     정말     좋은     날이에요.</div>","상위 키워드","general"
```
**↓ 자동 정리 후 ↓**
```
제목: "복사한 제목"
본문: "여러분 안녕하세요! 오늘은 정말 좋은 날이에요."
```

### 대량 데이터 추가 (복사-붙여넣기 걱정 없음)
```csv
제목,본문,카테고리,콘텐츠타입
"첫 번째 글","    첫 번째 글     내용...    ","상위 키워드","general"
"두 번째 글","두 번째 글       내용...","건축","professional"
"세 번째 글","세 번째 글 내용...","아이비리그","qna"
... (수십, 수백 개의 데이터)
```

## 🎯 학습 효과

### 분석되는 요소 (정리된 텍스트 기준)
- **어조**: 친근한, 전문적인, 일반적인
- **문단 구조**: 다문단 구조, 단순 구조
- **문장 길이**: 긴 문장 위주, 짧은 문장 위주
- **감정 표현**: 감정적인, 중립적인
- **공통 표현**: "여러분", "오늘은", "정말", "하지만" 등

### 생성되는 콘텐츠
- 기존 글의 스타일과 어조 모방
- 자주 사용하는 표현 패턴 활용
- 개인화된 감정 표현 방식
- 일관된 문단 구조와 문장 길이

## 💡 팁과 권장사항

### 1. 복사-붙여넣기 활용법
- **네이버 블로그에서 직접 복사**: HTML 태그와 공백이 많아도 자동 정리됨
- **워드/한글 문서에서 복사**: 탭 문자와 특수 공백도 자동 처리됨
- **웹사이트에서 복사**: `&nbsp;` 등 HTML 엔티티도 자동 변환됨

### 2. 데이터 품질
- **최소 5-10개 이상**의 블로그 글 학습 권장
- **일관된 스타일**의 글들로 학습
- **텍스트 정리 후에도 10자 이상**인 유효한 데이터만 학습됨

### 3. 카테고리 분류
- 콘텐츠 성격에 맞는 카테고리 설정
- 같은 카테고리 내에서 일관된 스타일 유지

### 4. 콘텐츠 타입 활용
- `general`: 친근하고 일반적인 글
- `professional`: 전문적이고 깊이 있는 글
- `qna`: 질문-답변 형식의 실용적인 글

## 🔄 학습 상태 확인

### 웹 인터페이스에서 확인
1. 메인 페이지의 "AI 학습 관리" 패널
2. "🤖 자동 학습된 블로그" 섹션에서 현재 상태 확인
3. "CSV 재학습" 버튼으로 수동 재학습 가능
4. CSV 업로드 시 "텍스트 자동 정리 적용" 메시지 확인

### 콘솔에서 확인
서버 시작 시 다음과 같은 로그 확인:
```
🧠 자동 학습 시스템 초기화 중...
📚 3개의 새로운 블로그 데이터를 학습합니다...
✅ 자동 학습 완료! 총 10개 블로그 학습됨 (신규: 3개)
```

## 🛠️ 트러블슈팅

### CSV 파일 인식 안됨
- 파일 경로 확인: `src/data/bulk-training-data.csv`
- UTF-8 인코딩으로 저장
- 헤더 확인: "제목", "본문" 컬럼 필수

### 중복 데이터 처리
- 제목 기준으로 중복 체크 (정리된 제목 기준)
- 기존 데이터와 다른 제목 사용

### 텍스트 정리 관련
- **과도한 공백**: 자동으로 정리됨
- **HTML 태그**: 자동으로 제거됨
- **특수문자**: 자동으로 정리되지만, 의미 있는 특수문자는 유지됨
- **너무 짧은 텍스트**: 정리 후 10자 미만인 경우 자동으로 제외됨

## 📁 파일 구조
```
blog-generator/
├── src/
│   ├── data/
│   │   ├── bulk-training-data.csv     # 자동 학습용 CSV (여기에 데이터 추가)
│   │   └── training-data.json         # 통합 학습 데이터 저장
│   └── lib/
│       └── auto-training.ts           # 자동 학습 + 텍스트 정리 로직
```

## 🚀 실제 사용 예시

### 1. 대량 데이터 준비 (복사-붙여넣기)
네이버 블로그에서 제목과 본문을 **그대로 복사**하여 CSV 파일에 추가
- HTML 태그, 과도한 공백, 줄바꿈 등은 신경 쓰지 마세요!

### 2. 서버 재시작
```bash
npm run dev
```

### 3. 학습 확인
웹 인터페이스에서 "🤖 자동 학습된 블로그" 숫자 확인

### 4. 콘텐츠 생성
평소와 같이 콘텐츠 생성하면 **정리되고 학습된 스타일**이 자동 적용

---

이제 **복사-붙여넣기로 인한 스페이싱 문제 걱정 없이** 백엔드에서 직접 대량의 블로그 데이터를 학습시킬 수 있습니다! 🎉 